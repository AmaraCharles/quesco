<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="../admin/login_files/bootstrap.min.css">
   
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="navbar">
    <a href="dashboard.html" class="active">Dashboard</a>
    <a href="#">Packages</a>
    <a href="#"></a>
    <a href="#">Link 4</a>
    <a href="javascript:void(0);" class="icon" onclick="toggleNavbar()">
      <i class="fa fa-bars">icon</i>
    </a>
  </div>

  <div class="content">
    <div class="container">
        
        <style>
            .itemHeader
    {
      background-color: #4CAF50 ;
    }
    .itemCard
    {
      
      display: flex;
      flex-direction: column;
       border:1px solid #ebe7e7;
    }
    
    .innerCard
    {
            display: flex;
      flex-direction: row;
      justify-content: space-between;
      row-gap: 2;
      padding: 10px;
    }
    
    .input{
      width: 30px;
    }
    
    
    
    .grid-container {
       
      display: grid;
      grid-template-columns: repeat(1, 1fr);
      grid-template-rows: auto 1fr;
      gap: 10px;
      /* width: 400px;
      height: 200px;
      border: 1px solid black; */
    }
    
    .box {
     }
    
    .box4 {
      grid-column: 1 / span 1;
    }
    
    .p-2
    {
      font-weight: 500;
    }
    
    
    #loader
    {
      display:none;
    }
    
    #detail
    {
      display: none;
    }

    @media  only screen  and(max-width:1200px) {
        
    }
    
    
        </style>
        <section class="content-section" id="detai">
    
            <div class=" container grid-container">
              
              <div class=" itemCard box">
                <h4 class="p-2 mb-5">TRACKING NUMBER</h4>
                
                <div class="innerCard">
                  
                  <div style="">
                    <h4 class="p-2">TRACKING NUMBER</h4>
                    <div class="p-1" id="id" style="border: 1px solid black ;"></div>
                     
               
                    </div>
                      <div style="">
                        <div id="date"></div>
                         </div>
                      
                    
                  </div>
                  
            
                
                  </div>
            
              <div class=" itemCard box">
                <header style="display: flex; flex-direction: row; background-color:  #4CAF50; justify-content: space-between;">
          <h3 class="p-2 itemHeader">DESTINATION:</h3>
          <h3 class="p-2 itemHeader">SHIPMENT DATE:</h3>
          </header>
          <div class="innerCard">
          <div>
            <div class="p-1" style="border: 1px solid black ;" id="destination"></div>
            
          </div>
          <div style="">
            <div class="mb-3">Estimated time of Departure (ETD):</div>
            <div class="p-1" style="border: 1px solid black ;" id="etd"></div>
            </div>
            <div>
              <div class="mb-3">Estimated time of Arrival (ETA):</div>
              <div class="p-1" style="border: 1px solid black ;" id="eta"></div>
            
              <!-- <input type="text" placeholder="time" readonly>
             -->
              </div>
            
            
          </div>
          
            </div>
          
            <div class=" itemCard box">
              <h3 class="p-2 itemHeader">PAYMENT DETAILS</h3>
              
              <div class="innerCard">
                <div style="">
                  <div class="mb-3">TOTAL FRIEGHT</div>
                  <div class="p-1" style="border: 1px solid black ;" id="totalFreight"></div>
                  </div>
                  <div>
                    <div class="mb-3">PAYMENT MODE</div>
                    <div class="p-1" style="border: 1px solid black ;" id="paymentMode"></div>
                  
                    <!-- <input type="text" placeholder="time" readonly>
                   -->
                    </div>
                  
                  
                </div>
                
          
              
                </div>
          
                <div class=" itemCard box">
                  
                  <div class="innerCard">
                    <div style="display: flex;flex-direction: column;">
                      <h3 class="p-2 ">Shipped to:</h3>
                      <span class="p-2">Name:<span id="receiverName"></span></span>
                      <span class="p-2">Email:<span id="receiverEmail"></span></span>
                      <span class="p-2">Address:<span id="receiverAddress"> </span></span>
                     
          
                      </div>
                      <div style="display: flex;flex-direction: column;">
                        <h3 class="mb-3" >shipper's details</h3>
                        <span class="p-2">Name:<span id="senderName"></span></span>
                        <span class="p-2">Email:<span id="senderEmail"></span></span>
                        <span class="p-2">Address:<span id="senderAddress"></span></span>
                       
                       
                        <!-- <input type="text" placeholder="time" readonly>
                       -->
                        </div>
                      
                      
                    </div>
                    
                      </div>
                      <div class=" itemCard box">
                        <h3 class="p-2 itemHeader">PAYMENT DETAILS</h3>
                        
                        <div class="innerCard">
                          <div style="">
                            <div class="mb-3">ITEM TYPE</div>
                            <div class="p-1" style="border: 1px solid black ;" id="itemType"></div>
                            </div>
                            <div>
                              <div class="mb-3">WEIGHT</div>
                              <div class="p-1" style="border: 1px solid black ;" id="weight"></div>
                            
                              <!-- <input type="text" placeholder="time" readonly>
                             -->
                              </div>
                              <div>
                                <div class="mb-3">MODE OF TRANSPORTATION</div>
                                <div class="p-1" style="border: 1px solid black ;" id="mot"></div>
                              
                                <!-- <input type="text" placeholder="time" readonly>
                               -->
                                </div>
                             
                            
                          </div>
                          
                    
                        
                          </div>
                    
                          <div class=" itemCard box">
                            <h3 class="p-2 itemHeader">CONSIGNMENT DETAILS</h3>
                            
                            <div class="innerCard">
                              <div style="">
                                <div class="p-1 mb-4" style="border: 1px solid black ;"id="consignmentDetails"></div>
                                </div>
                                
                                
                              </div>
                              <button onclick="captureScreenAndConvertToPDF()" class=" btn btn-md btn-success"id="hide">Save</button>
             
                      
                            
                              </div>
                               </div>
                    
              
                              
          </div>
          <!-- <button onclick="printPage()">Print Page</button>
          <button onclick="savePage()">Save Page</button>
          <button onclick="savePageAsPDF()">save as pdf</button> -->
        
          </section>
    

  <script>

    var currentUser = {};
    
    
    $(document).ready(async function () {
    
      async function fetchUserInfo() {
      var parsedData = localStorage.getItem('userem')
    
    
      const response = await $.ajax({
        type: "GET",
        url: `https://quesco-sserver.onrender.com/users/${parsedData}`,
        dataType: "json",
        timeout: 30000,
        success: async function (data) {
          console.log("data", data);
          Object.assign(currentUser, data.data)
        },
        error: function () {
          alert(error)
        }
       
      });
    
      return response.data;
    }
    
      const userInfo = await fetchUserInfo();
    
      $('#eta').text(userInfo.eta)
      $('#etd').text(userInfo.etd)
      $('#destination').text(userInfo.destination)
      $('#serviceType').text(userInfo.serviceType)
      $('#receiverName').text(userInfo.receiverName)
      $('#receiverEmail').text(userInfo.receiverEmail)
      $('#receiverAddress').text(userInfo.receiverAddress)
      $('#senderName').text(userInfo.senderName)
      $('#senderEmail').text(userInfo.senderEmail)
      $('#senderAddress').text(userInfo.senderAddress)
      $('#paymentMode').text(userInfo.paymentMode)
      $('#deliveryDay').text(userInfo.deliveryDay)
      $('#weight').text(userInfo.weight)
      $('#itemType').text(userInfo.itemType)
      $('#consignmentDetails').text(userInfo.consignmentDetails)
      $('#mot').text(userInfo.mot)
      $('#location').text(userInfo.location)
      $('#id').text(userInfo._id)
      $('#date').text(userInfo.date)
     
    
    
    
     });
      
    
      
       
    
      </script>
    

  <script src="script.js"></script>
</body>
</html>
